package royanmobiletesting1;

import java.net.MalformedURLException;
import java.net.URISyntaxException;
import java.time.Duration;

import org.openqa.selenium.By;
import org.openqa.selenium.support.ui.ExpectedConditions;
import org.openqa.selenium.support.ui.WebDriverWait;
import org.testng.Assert;
import org.testng.annotations.Test;

import io.appium.java_client.AppiumBy;

public class KeyPressed extends BaseTest {
   
	@Test
	public void KeyPresses() throws MalformedURLException, URISyntaxException {
		String Name = driver.findElement(By.xpath("//android.widget.TextView[@text=\"Your Name\"]")).getText();
		Assert.assertEquals(Name, "Your Name");
		driver.findElement(AppiumBy.xpath("//android.widget.EditText[@resource-id=\"com.androidsample.generalstore:id/nameField\"]")).sendKeys("Anurag Roy");
		String Gender = driver.findElement(By.xpath("//android.widget.TextView[@text=\"Gender\"]")).getText();
		Assert.assertEquals(Gender, "Gender");
		driver.findElement(By.id("com.androidsample.generalstore:id/radioMale")).click();
		String CheckLoc = driver.findElement(AppiumBy.xpath("//android.widget.TextView[@text=\"Select the country where you want to shop\"]")).getText();
		Assert.assertEquals(CheckLoc, "Select the country where you want to shop");
		driver.findElement(By.id("com.androidsample.generalstore:id/spinnerCountry")).click();
		driver.findElement(AppiumBy.androidUIAutomator(
		    "new UiScrollable(new UiSelector().scrollable(true))" +
		    ".scrollIntoView(new UiSelector().text(\"Antarctica\"))"));
		driver.findElement(By.xpath("//android.widget.TextView[@text='Antarctica']")).click();
		String BtnTitle = driver.findElement(AppiumBy.xpath("//android.widget.Button[@resource-id=\"com.androidsample.generalstore:id/btnLetsShop\"]")).getText();
		Assert.assertEquals(BtnTitle, "Let's  Shop");
		driver.findElement(By.id("com.androidsample.generalstore:id/btnLetsShop")).click();
        driver.findElement(AppiumBy.xpath("//android.support.v7.widget.RecyclerView[@resource-id=\"com.androidsample.generalstore:id/rvProductList\"]/android.widget.RelativeLayout[1]/android.widget.LinearLayout")).click();
        driver.findElement(By.xpath("(//android.widget.ImageView[@resource-id='com.androidsample.generalstore:id/productImage'])[1]")).click();
     // Scroll to "PG 3" in a horizontal RecyclerView
        driver.findElement(AppiumBy.androidUIAutomator(
            "new UiScrollable(new UiSelector().resourceId(\"com.androidsample.generalstore:id/rvProductList\"))" +
            ".setAsHorizontalList()" +
            ".scrollIntoView(new UiSelector().text(\"PG 3\"))"));
        // Click the ADD TO CART button next to PG 3
        driver.findElement(By.xpath(
            "//android.widget.TextView[@text='PG 3']/following-sibling::android.widget.LinearLayout" +
            "//android.widget.TextView[@text='ADD TO CART']")).click();

	}
}
